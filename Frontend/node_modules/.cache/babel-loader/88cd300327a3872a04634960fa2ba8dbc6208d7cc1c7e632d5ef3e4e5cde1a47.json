{"ast":null,"code":"import axios from 'axios';\nimport API_CONFIG, { getApiUrl } from '../config/api';\n\n// Create axios instance with default configuration\nconst apiClient = axios.create({\n  timeout: API_CONFIG.TIMEOUT,\n  headers: API_CONFIG.HEADERS\n});\n\n// Request interceptor\napiClient.interceptors.request.use(config => {\n  var _config$method;\n  // Add any auth tokens here if needed\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  console.log(`API Request: ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  console.error('API Request Error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor\napiClient.interceptors.response.use(response => {\n  console.log(`API Response: ${response.status} ${response.config.url}`);\n  return response;\n}, error => {\n  var _error$response, _error$response2, _error$response3;\n  console.error('API Response Error:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n\n  // Handle common errors\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n    // Handle unauthorized access\n    localStorage.removeItem('authToken');\n    // Redirect to login if needed\n  }\n  return Promise.reject(error);\n});\n\n// API Service functions\nconst apiService = {\n  // Posts/Stories\n  async getPosts() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.POSTS));\n    return response.data;\n  },\n  async createPost(formData) {\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.POSTS), formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  },\n  async deletePost(postId) {\n    const response = await apiClient.delete(getApiUrl(API_CONFIG.ENDPOINTS.DELETE_POST(postId)));\n    return response.data;\n  },\n  // Donations\n  async makeDonation(postId, donationData) {\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.DONATE(postId)), donationData);\n    return response.data;\n  },\n  async getStats() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.STATS));\n    return response.data;\n  },\n  async getPaymentConfig() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.PAYMENT_CONFIG));\n    return response.data;\n  },\n  // Collaborations\n  async getCollaborations() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.COLLABORATIONS));\n    return response.data;\n  },\n  async submitCollaboration(collaborationData) {\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.COLLABORATE), collaborationData);\n    return response.data;\n  },\n  // Success Stories\n  async getSuccessStories() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.SUCCESS_STORIES));\n    return response.data;\n  },\n  async submitSuccessStory(formData) {\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.SUCCESS_STORIES), formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  },\n  // Admin functions\n  async getAdminStats(adminKey) {\n    const response = await apiClient.get(getApiUrl('/api/admin/collaborations/stats'), {\n      headers: {\n        'x-admin-key': adminKey\n      }\n    });\n    return response.data;\n  },\n  async getAdminCollaborations(adminKey) {\n    const response = await apiClient.get(getApiUrl('/api/admin/collaborations'), {\n      headers: {\n        'x-admin-key': adminKey\n      }\n    });\n    return response.data;\n  },\n  async updateCollaborationStatus(id, updateData, adminKey) {\n    const response = await apiClient.put(getApiUrl(`/api/admin/collaborations/${id}`), updateData, {\n      headers: {\n        'x-admin-key': adminKey\n      }\n    });\n    return response.data;\n  },\n  async getCollaborationDetails(id, adminKey) {\n    const response = await apiClient.get(getApiUrl(`/api/admin/collaborations/${id}`), {\n      headers: {\n        'x-admin-key': adminKey\n      }\n    });\n    return response.data;\n  },\n  async exportCollaborations(adminKey) {\n    const response = await apiClient.get(getApiUrl('/api/admin/collaborations/export'), {\n      headers: {\n        'x-admin-key': adminKey\n      }\n    });\n    return response.data;\n  },\n  async getAdminDonations() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.ADMIN_DONATIONS));\n    return response.data;\n  },\n  async getAdminStories() {\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.ADMIN_STORIES));\n    return response.data;\n  }\n};\nexport default apiService;","map":{"version":3,"names":["axios","API_CONFIG","getApiUrl","apiClient","create","timeout","TIMEOUT","headers","HEADERS","interceptors","request","use","config","_config$method","token","localStorage","getItem","Authorization","console","log","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","_error$response2","_error$response3","data","removeItem","apiService","getPosts","get","ENDPOINTS","POSTS","createPost","formData","post","deletePost","postId","delete","DELETE_POST","makeDonation","donationData","DONATE","getStats","STATS","getPaymentConfig","PAYMENT_CONFIG","getCollaborations","COLLABORATIONS","submitCollaboration","collaborationData","COLLABORATE","getSuccessStories","SUCCESS_STORIES","submitSuccessStory","getAdminStats","adminKey","getAdminCollaborations","updateCollaborationStatus","id","updateData","put","getCollaborationDetails","exportCollaborations","getAdminDonations","ADMIN_DONATIONS","getAdminStories","ADMIN_STORIES"],"sources":["C:/Users/PratisthaSingh/Desktop/Donation/Frontend/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\nimport API_CONFIG, { getApiUrl } from '../config/api';\r\n\r\n// Create axios instance with default configuration\r\nconst apiClient = axios.create({\r\n  timeout: API_CONFIG.TIMEOUT,\r\n  headers: API_CONFIG.HEADERS\r\n});\r\n\r\n// Request interceptor\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    // Add any auth tokens here if needed\r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    console.log(`API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('API Request Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`API Response: ${response.status} ${response.config.url}`);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('API Response Error:', error.response?.status, error.response?.data);\r\n    \r\n    // Handle common errors\r\n    if (error.response?.status === 401) {\r\n      // Handle unauthorized access\r\n      localStorage.removeItem('authToken');\r\n      // Redirect to login if needed\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// API Service functions\r\nconst apiService = {\r\n  // Posts/Stories\r\n  async getPosts() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.POSTS));\r\n    return response.data;\r\n  },\r\n\r\n  async createPost(formData) {\r\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.POSTS), formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async deletePost(postId) {\r\n    const response = await apiClient.delete(getApiUrl(API_CONFIG.ENDPOINTS.DELETE_POST(postId)));\r\n    return response.data;\r\n  },\r\n\r\n  // Donations\r\n  async makeDonation(postId, donationData) {\r\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.DONATE(postId)), donationData);\r\n    return response.data;\r\n  },\r\n\r\n  async getStats() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.STATS));\r\n    return response.data;\r\n  },\r\n\r\n  async getPaymentConfig() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.PAYMENT_CONFIG));\r\n    return response.data;\r\n  },\r\n\r\n  // Collaborations\r\n  async getCollaborations() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.COLLABORATIONS));\r\n    return response.data;\r\n  },\r\n\r\n  async submitCollaboration(collaborationData) {\r\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.COLLABORATE), collaborationData);\r\n    return response.data;\r\n  },\r\n\r\n  // Success Stories\r\n  async getSuccessStories() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.SUCCESS_STORIES));\r\n    return response.data;\r\n  },\r\n\r\n  async submitSuccessStory(formData) {\r\n    const response = await apiClient.post(getApiUrl(API_CONFIG.ENDPOINTS.SUCCESS_STORIES), formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  // Admin functions\r\n  async getAdminStats(adminKey) {\r\n    const response = await apiClient.get(getApiUrl('/api/admin/collaborations/stats'), {\r\n      headers: { 'x-admin-key': adminKey }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async getAdminCollaborations(adminKey) {\r\n    const response = await apiClient.get(getApiUrl('/api/admin/collaborations'), {\r\n      headers: { 'x-admin-key': adminKey }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async updateCollaborationStatus(id, updateData, adminKey) {\r\n    const response = await apiClient.put(getApiUrl(`/api/admin/collaborations/${id}`), updateData, {\r\n      headers: { 'x-admin-key': adminKey }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async getCollaborationDetails(id, adminKey) {\r\n    const response = await apiClient.get(getApiUrl(`/api/admin/collaborations/${id}`), {\r\n      headers: { 'x-admin-key': adminKey }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async exportCollaborations(adminKey) {\r\n    const response = await apiClient.get(getApiUrl('/api/admin/collaborations/export'), {\r\n      headers: { 'x-admin-key': adminKey }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async getAdminDonations() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.ADMIN_DONATIONS));\r\n    return response.data;\r\n  },\r\n\r\n  async getAdminStories() {\r\n    const response = await apiClient.get(getApiUrl(API_CONFIG.ENDPOINTS.ADMIN_STORIES));\r\n    return response.data;\r\n  }\r\n};\r\n\r\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}